#include <executive/ps/api.h>
#include <int/api.h>
#include <inuhal/api.h>
#define Handler(__Index__) INUSTATIC INUINTERRUPT Void Handler##__Index__(Void* frame) {FwInterruptHandler(__Index__,frame);}

INUGLOBAL INUSTATIC __attribute__((aligned(0x10))) struct IDTEntry IEntries[256];
INUGLOBAL INUSTATIC struct IDTPointer IDTPointer;

INUGHANDLER Void FwInterruptHandler(UIntPtr index, Void* frame) {
    //FwDebugPrint("Interrupt %i fired! \r\n",index);
    struct Representation* ct = FwGetContext();
    ct->interruptFrame = frame;
    FwExecuteSignal(index);
}

Handler(0);
Handler(1);
Handler(2);
Handler(3);
Handler(4);
Handler(5);
Handler(6);
Handler(7);
Handler(8);
Handler(9);
Handler(10);
Handler(11);
Handler(12);
Handler(13);
Handler(14);
Handler(15);
Handler(16);
Handler(17);
Handler(18);
Handler(19);
Handler(20);
Handler(21);
Handler(22);
Handler(23);
Handler(24);
Handler(25);
Handler(26);
Handler(27);
Handler(28);
Handler(29);
Handler(30);
Handler(31);
Handler(32);
Handler(33);
Handler(34);
Handler(35);
Handler(36);
Handler(37);
Handler(38);
Handler(39);
Handler(40);
Handler(41);
Handler(42);
Handler(43);
Handler(44);
Handler(45);
Handler(46);
Handler(47);
Handler(48);
Handler(49);
Handler(50);
Handler(51);
Handler(52);
Handler(53);
Handler(54);
Handler(55);
Handler(56);
Handler(57);
Handler(58);
Handler(59);
Handler(60);
Handler(61);
Handler(62);
Handler(63);
Handler(64);
Handler(65);
Handler(66);
Handler(67);
Handler(68);
Handler(69);
Handler(70);
Handler(71);
Handler(72);
Handler(73);
Handler(74);
Handler(75);
Handler(76);
Handler(77);
Handler(78);
Handler(79);
Handler(80);
Handler(81);
Handler(82);
Handler(83);
Handler(84);
Handler(85);
Handler(86);
Handler(87);
Handler(88);
Handler(89);
Handler(90);
Handler(91);
Handler(92);
Handler(93);
Handler(94);
Handler(95);
Handler(96);
Handler(97);
Handler(98);
Handler(99);
Handler(100);
Handler(101);
Handler(102);
Handler(103);
Handler(104);
Handler(105);
Handler(106);
Handler(107);
Handler(108);
Handler(109);
Handler(110);
Handler(111);
Handler(112);
Handler(113);
Handler(114);
Handler(115);
Handler(116);
Handler(117);
Handler(118);
Handler(119);
Handler(120);
Handler(121);
Handler(122);
Handler(123);
Handler(124);
Handler(125);
Handler(126);
Handler(127);
Handler(128);
Handler(129);
Handler(130);
Handler(131);
Handler(132);
Handler(133);
Handler(134);
Handler(135);
Handler(136);
Handler(137);
Handler(138);
Handler(139);
Handler(140);
Handler(141);
Handler(142);
Handler(143);
Handler(144);
Handler(145);
Handler(146);
Handler(147);
Handler(148);
Handler(149);
Handler(150);
Handler(151);
Handler(152);
Handler(153);
Handler(154);
Handler(155);
Handler(156);
Handler(157);
Handler(158);
Handler(159);
Handler(160);
Handler(161);
Handler(162);
Handler(163);
Handler(164);
Handler(165);
Handler(166);
Handler(167);
Handler(168);
Handler(169);
Handler(170);
Handler(171);
Handler(172);
Handler(173);
Handler(174);
Handler(175);
Handler(176);
Handler(177);
Handler(178);
Handler(179);
Handler(180);
Handler(181);
Handler(182);
Handler(183);
Handler(184);
Handler(185);
Handler(186);
Handler(187);
Handler(188);
Handler(189);
Handler(190);
Handler(191);
Handler(192);
Handler(193);
Handler(194);
Handler(195);
Handler(196);
Handler(197);
Handler(198);
Handler(199);
Handler(200);
Handler(201);
Handler(202);
Handler(203);
Handler(204);
Handler(205);
Handler(206);
Handler(207);
Handler(208);
Handler(209);
Handler(210);
Handler(211);
Handler(212);
Handler(213);
Handler(214);
Handler(215);
Handler(216);
Handler(217);
Handler(218);
Handler(219);
Handler(220);
Handler(221);
Handler(222);
Handler(223);
Handler(224);
Handler(225);
Handler(227);
Handler(228);
Handler(229);
Handler(230);
Handler(231);
Handler(232);
Handler(233);
Handler(234);
Handler(235);
Handler(236);
Handler(237);
Handler(238);
Handler(239);
Handler(240);
Handler(241);
Handler(242);
Handler(243);
Handler(244);
Handler(245);
Handler(246);
Handler(247);
Handler(248);
Handler(249);
Handler(250);
Handler(251);
Handler(252);
Handler(253);
Handler(254);
Handler(255);
Handler(ROUTER_CALL);

Void IntInitialize() {
    IDTPointer.Limit = sizeof(IEntries) - 1;
    IDTPointer.Base = (UInt32)&IEntries;

    IntSetIsr(0, (UInt32) Handler0, 0x08, 0x8E);
    IntSetIsr(1, (UInt32) Handler1, 0x08, 0x8E);
    IntSetIsr(2, (UInt32) Handler2, 0x08, 0x8E);
    IntSetIsr(3, (UInt32) Handler3, 0x08, 0x8E);
    IntSetIsr(4, (UInt32) Handler4, 0x08, 0x8E);
    IntSetIsr(5, (UInt32) Handler5, 0x08, 0x8E);
    IntSetIsr(6, (UInt32) Handler6, 0x08, 0x8E);
    IntSetIsr(7, (UInt32) Handler7, 0x08, 0x8E);
    IntSetIsr(8, (UInt32) Handler8, 0x08, 0x8E);
    IntSetIsr(9, (UInt32) Handler9, 0x08, 0x8E);
    IntSetIsr(10, (UInt32) Handler10, 0x08, 0x8E);
    IntSetIsr(11, (UInt32) Handler11, 0x08, 0x8E);
    IntSetIsr(12, (UInt32) Handler12, 0x08, 0x8E);
    IntSetIsr(13, (UInt32) Handler13, 0x08, 0x8E);
    IntSetIsr(14, (UInt32) Handler14, 0x08, 0x8E);
    IntSetIsr(15, (UInt32) Handler15, 0x08, 0x8E);
    IntSetIsr(16, (UInt32) Handler16, 0x08, 0x8E);
    IntSetIsr(17, (UInt32) Handler17, 0x08, 0x8E);
    IntSetIsr(18, (UInt32) Handler18, 0x08, 0x8E);
    IntSetIsr(19, (UInt32) Handler19, 0x08, 0x8E);
    IntSetIsr(20, (UInt32) Handler20, 0x08, 0x8E);
    IntSetIsr(21, (UInt32) Handler21, 0x08, 0x8E);
    IntSetIsr(22, (UInt32) Handler22, 0x08, 0x8E);
    IntSetIsr(23, (UInt32) Handler23, 0x08, 0x8E);
    IntSetIsr(24, (UInt32) Handler24, 0x08, 0x8E);
    IntSetIsr(25, (UInt32) Handler25, 0x08, 0x8E);
    IntSetIsr(26, (UInt32) Handler26, 0x08, 0x8E);
    IntSetIsr(27, (UInt32) Handler27, 0x08, 0x8E);
    IntSetIsr(28, (UInt32) Handler28, 0x08, 0x8E);
    IntSetIsr(29, (UInt32) Handler29, 0x08, 0x8E);
    IntSetIsr(30, (UInt32) Handler30, 0x08, 0x8E);
    IntSetIsr(31, (UInt32) Handler31, 0x08, 0x8E);
    IntSetIsr(32, (UInt32) Handler32, 0x08, 0x8E);
    IntSetIsr(33, (UInt32) Handler33, 0x08, 0x8E);
    IntSetIsr(34, (UInt32) Handler34, 0x08, 0x8E);
    IntSetIsr(35, (UInt32) Handler35, 0x08, 0x8E);
    IntSetIsr(36, (UInt32) Handler36, 0x08, 0x8E);
    IntSetIsr(37, (UInt32) Handler37, 0x08, 0x8E);
    IntSetIsr(38, (UInt32) Handler38, 0x08, 0x8E);
    IntSetIsr(39, (UInt32) Handler39, 0x08, 0x8E);
    IntSetIsr(40, (UInt32) Handler40, 0x08, 0x8E);
    IntSetIsr(41, (UInt32) Handler41, 0x08, 0x8E);
    IntSetIsr(42, (UInt32) Handler42, 0x08, 0x8E);
    IntSetIsr(43, (UInt32) Handler43, 0x08, 0x8E);
    IntSetIsr(44, (UInt32) Handler44, 0x08, 0x8E);
    IntSetIsr(45, (UInt32) Handler45, 0x08, 0x8E);
    IntSetIsr(46, (UInt32) Handler46, 0x08, 0x8E);
    IntSetIsr(47, (UInt32) Handler47, 0x08, 0x8E);
    IntSetIsr(47, (UInt32) Handler47, 0x08, 0x8E);
    IntSetIsr(48, (UInt32) Handler48, 0x08, 0x8E);
    IntSetIsr(49, (UInt32) Handler49, 0x08, 0x8E);
    IntSetIsr(50, (UInt32) Handler50, 0x08, 0x8E);
    IntSetIsr(51, (UInt32) Handler51, 0x08, 0x8E);
    IntSetIsr(52, (UInt32) Handler52, 0x08, 0x8E);
    IntSetIsr(53, (UInt32) Handler53, 0x08, 0x8E);
    IntSetIsr(54, (UInt32) Handler54, 0x08, 0x8E);
    IntSetIsr(55, (UInt32) Handler55, 0x08, 0x8E);
    IntSetIsr(56, (UInt32) Handler56, 0x08, 0x8E);
    IntSetIsr(57, (UInt32) Handler57, 0x08, 0x8E);
    IntSetIsr(58, (UInt32) Handler58, 0x08, 0x8E);
    IntSetIsr(59, (UInt32) Handler59, 0x08, 0x8E);
    IntSetIsr(60, (UInt32) Handler60, 0x08, 0x8E);
    IntSetIsr(61, (UInt32) Handler61, 0x08, 0x8E);
    IntSetIsr(62, (UInt32) Handler62, 0x08, 0x8E);
    IntSetIsr(63, (UInt32) Handler63, 0x08, 0x8E);
    IntSetIsr(64, (UInt32) Handler64, 0x08, 0x8E);
    IntSetIsr(65, (UInt32) Handler65, 0x08, 0x8E);
    IntSetIsr(66, (UInt32) Handler66, 0x08, 0x8E);
    IntSetIsr(67, (UInt32) Handler67, 0x08, 0x8E);
    IntSetIsr(68, (UInt32) Handler68, 0x08, 0x8E);
    IntSetIsr(69, (UInt32) Handler69, 0x08, 0x8E);
    IntSetIsr(70, (UInt32) Handler70, 0x08, 0x8E);
    IntSetIsr(71, (UInt32) Handler71, 0x08, 0x8E);
    IntSetIsr(72, (UInt32) Handler72, 0x08, 0x8E);
    IntSetIsr(73, (UInt32) Handler73, 0x08, 0x8E);
    IntSetIsr(74, (UInt32) Handler74, 0x08, 0x8E);
    IntSetIsr(75, (UInt32) Handler75, 0x08, 0x8E);
    IntSetIsr(76, (UInt32) Handler76, 0x08, 0x8E);
    IntSetIsr(77, (UInt32) Handler77, 0x08, 0x8E);
    IntSetIsr(78, (UInt32) Handler78, 0x08, 0x8E);
    IntSetIsr(79, (UInt32) Handler79, 0x08, 0x8E);
    IntSetIsr(80, (UInt32) Handler80, 0x08, 0x8E);
    IntSetIsr(81, (UInt32) Handler81, 0x08, 0x8E);
    IntSetIsr(82, (UInt32) Handler82, 0x08, 0x8E);
    IntSetIsr(83, (UInt32) Handler83, 0x08, 0x8E);
    IntSetIsr(84, (UInt32) Handler84, 0x08, 0x8E);
    IntSetIsr(85, (UInt32) Handler85, 0x08, 0x8E);
    IntSetIsr(86, (UInt32) Handler86, 0x08, 0x8E);
    IntSetIsr(87, (UInt32) Handler87, 0x08, 0x8E);
    IntSetIsr(88, (UInt32) Handler88, 0x08, 0x8E);
    IntSetIsr(89, (UInt32) Handler89, 0x08, 0x8E);
    IntSetIsr(90, (UInt32) Handler90, 0x08, 0x8E);
    IntSetIsr(91, (UInt32) Handler91, 0x08, 0x8E);
    IntSetIsr(92, (UInt32) Handler92, 0x08, 0x8E);
    IntSetIsr(93, (UInt32) Handler93, 0x08, 0x8E);
    IntSetIsr(94, (UInt32) Handler94, 0x08, 0x8E);
    IntSetIsr(95, (UInt32) Handler95, 0x08, 0x8E);
    IntSetIsr(96, (UInt32) Handler96, 0x08, 0x8E);
    IntSetIsr(97, (UInt32) Handler97, 0x08, 0x8E);
    IntSetIsr(98, (UInt32) Handler98, 0x08, 0x8E);
    IntSetIsr(99, (UInt32) Handler99, 0x08, 0x8E);
    IntSetIsr(100, (UInt32) Handler100, 0x08, 0x8E);
    IntSetIsr(101, (UInt32) Handler101, 0x08, 0x8E);
    IntSetIsr(102, (UInt32) Handler102, 0x08, 0x8E);
    IntSetIsr(103, (UInt32) Handler103, 0x08, 0x8E);
    IntSetIsr(104, (UInt32) Handler104, 0x08, 0x8E);
    IntSetIsr(105, (UInt32) Handler105, 0x08, 0x8E);
    IntSetIsr(106, (UInt32) Handler106, 0x08, 0x8E);
    IntSetIsr(107, (UInt32) Handler107, 0x08, 0x8E);
    IntSetIsr(108, (UInt32) Handler108, 0x08, 0x8E);
    IntSetIsr(109, (UInt32) Handler109, 0x08, 0x8E);
    IntSetIsr(110, (UInt32) Handler110, 0x08, 0x8E);
    IntSetIsr(111, (UInt32) Handler111, 0x08, 0x8E);
    IntSetIsr(112, (UInt32) Handler112, 0x08, 0x8E);
    IntSetIsr(113, (UInt32) Handler113, 0x08, 0x8E);
    IntSetIsr(114, (UInt32) Handler114, 0x08, 0x8E);
    IntSetIsr(115, (UInt32) Handler115, 0x08, 0x8E);
    IntSetIsr(116, (UInt32) Handler116, 0x08, 0x8E);
    IntSetIsr(117, (UInt32) Handler117, 0x08, 0x8E);
    IntSetIsr(118, (UInt32) Handler118, 0x08, 0x8E);
    IntSetIsr(119, (UInt32) Handler119, 0x08, 0x8E);
    IntSetIsr(120, (UInt32) Handler120, 0x08, 0x8E);
    IntSetIsr(121, (UInt32) Handler121, 0x08, 0x8E);
    IntSetIsr(122, (UInt32) Handler122, 0x08, 0x8E);
    IntSetIsr(123, (UInt32) Handler123, 0x08, 0x8E);
    IntSetIsr(124, (UInt32) Handler124, 0x08, 0x8E);
    IntSetIsr(125, (UInt32) Handler125, 0x08, 0x8E);
    IntSetIsr(126, (UInt32) Handler126, 0x08, 0x8E);
    IntSetIsr(127, (UInt32) Handler127, 0x08, 0x8E);
    IntSetIsr(128, (UInt32) Handler128, 0x08, 0x8E);
    IntSetIsr(129, (UInt32) Handler129, 0x08, 0x8E);
    IntSetIsr(130, (UInt32) Handler130, 0x08, 0x8E);
    IntSetIsr(131, (UInt32) Handler131, 0x08, 0x8E);
    IntSetIsr(132, (UInt32) Handler132, 0x08, 0x8E);
    IntSetIsr(133, (UInt32) Handler133, 0x08, 0x8E);
    IntSetIsr(134, (UInt32) Handler134, 0x08, 0x8E);
    IntSetIsr(135, (UInt32) Handler135, 0x08, 0x8E);
    IntSetIsr(136, (UInt32) Handler136, 0x08, 0x8E);
    IntSetIsr(137, (UInt32) Handler137, 0x08, 0x8E);
    IntSetIsr(138, (UInt32) Handler138, 0x08, 0x8E);
    IntSetIsr(139, (UInt32) Handler139, 0x08, 0x8E);
    IntSetIsr(140, (UInt32) Handler140, 0x08, 0x8E);
    IntSetIsr(141, (UInt32) Handler141, 0x08, 0x8E);
    IntSetIsr(142, (UInt32) Handler142, 0x08, 0x8E);
    IntSetIsr(143, (UInt32) Handler143, 0x08, 0x8E);
    IntSetIsr(144, (UInt32) Handler144, 0x08, 0x8E);
    IntSetIsr(145, (UInt32) Handler145, 0x08, 0x8E);
    IntSetIsr(146, (UInt32) Handler146, 0x08, 0x8E);
    IntSetIsr(147, (UInt32) Handler147, 0x08, 0x8E);
    IntSetIsr(148, (UInt32) Handler148, 0x08, 0x8E);
    IntSetIsr(149, (UInt32) Handler149, 0x08, 0x8E);
    IntSetIsr(150, (UInt32) Handler150, 0x08, 0x8E);
    IntSetIsr(151, (UInt32) Handler151, 0x08, 0x8E);
    IntSetIsr(152, (UInt32) Handler152, 0x08, 0x8E);
    IntSetIsr(153, (UInt32) Handler153, 0x08, 0x8E);
    IntSetIsr(154, (UInt32) Handler154, 0x08, 0x8E);
    IntSetIsr(155, (UInt32) Handler155, 0x08, 0x8E);
    IntSetIsr(156, (UInt32) Handler156, 0x08, 0x8E);
    IntSetIsr(157, (UInt32) Handler157, 0x08, 0x8E);
    IntSetIsr(158, (UInt32) Handler158, 0x08, 0x8E);
    IntSetIsr(159, (UInt32) Handler159, 0x08, 0x8E);
    IntSetIsr(160, (UInt32) Handler160, 0x08, 0x8E);
    IntSetIsr(161, (UInt32) Handler161, 0x08, 0x8E);
    IntSetIsr(162, (UInt32) Handler162, 0x08, 0x8E);
    IntSetIsr(163, (UInt32) Handler163, 0x08, 0x8E);
    IntSetIsr(164, (UInt32) Handler164, 0x08, 0x8E);
    IntSetIsr(165, (UInt32) Handler165, 0x08, 0x8E);
    IntSetIsr(166, (UInt32) Handler166, 0x08, 0x8E);
    IntSetIsr(167, (UInt32) Handler167, 0x08, 0x8E);
    IntSetIsr(168, (UInt32) Handler168, 0x08, 0x8E);
    IntSetIsr(169, (UInt32) Handler169, 0x08, 0x8E);
    IntSetIsr(170, (UInt32) Handler170, 0x08, 0x8E);
    IntSetIsr(171, (UInt32) Handler171, 0x08, 0x8E);
    IntSetIsr(172, (UInt32) Handler172, 0x08, 0x8E);
    IntSetIsr(173, (UInt32) Handler173, 0x08, 0x8E);
    IntSetIsr(174, (UInt32) Handler174, 0x08, 0x8E);
    IntSetIsr(175, (UInt32) Handler175, 0x08, 0x8E);
    IntSetIsr(176, (UInt32) Handler176, 0x08, 0x8E);
    IntSetIsr(177, (UInt32) Handler177, 0x08, 0x8E);
    IntSetIsr(178, (UInt32) Handler178, 0x08, 0x8E);
    IntSetIsr(179, (UInt32) Handler179, 0x08, 0x8E);
    IntSetIsr(180, (UInt32) Handler180, 0x08, 0x8E);
    IntSetIsr(181, (UInt32) Handler181, 0x08, 0x8E);
    IntSetIsr(182, (UInt32) Handler182, 0x08, 0x8E);
    IntSetIsr(183, (UInt32) Handler183, 0x08, 0x8E);
    IntSetIsr(184, (UInt32) Handler184, 0x08, 0x8E);
    IntSetIsr(185, (UInt32) Handler185, 0x08, 0x8E);
    IntSetIsr(186, (UInt32) Handler186, 0x08, 0x8E);
    IntSetIsr(187, (UInt32) Handler187, 0x08, 0x8E);
    IntSetIsr(188, (UInt32) Handler188, 0x08, 0x8E);
    IntSetIsr(189, (UInt32) Handler189, 0x08, 0x8E);
    IntSetIsr(190, (UInt32) Handler190, 0x08, 0x8E);
    IntSetIsr(191, (UInt32) Handler191, 0x08, 0x8E);
    IntSetIsr(192, (UInt32) Handler192, 0x08, 0x8E);
    IntSetIsr(193, (UInt32) Handler193, 0x08, 0x8E);
    IntSetIsr(194, (UInt32) Handler194, 0x08, 0x8E);
    IntSetIsr(195, (UInt32) Handler195, 0x08, 0x8E);
    IntSetIsr(196, (UInt32) Handler196, 0x08, 0x8E);
    IntSetIsr(197, (UInt32) Handler197, 0x08, 0x8E);
    IntSetIsr(198, (UInt32) Handler198, 0x08, 0x8E);
    IntSetIsr(199, (UInt32) Handler199, 0x08, 0x8E);
    IntSetIsr(200, (UInt32) Handler200, 0x08, 0x8E);
    IntSetIsr(201, (UInt32) Handler201, 0x08, 0x8E);
    IntSetIsr(202, (UInt32) Handler202, 0x08, 0x8E);
    IntSetIsr(203, (UInt32) Handler203, 0x08, 0x8E);
    IntSetIsr(204, (UInt32) Handler204, 0x08, 0x8E);
    IntSetIsr(205, (UInt32) Handler205, 0x08, 0x8E);
    IntSetIsr(206, (UInt32) Handler206, 0x08, 0x8E);
    IntSetIsr(207, (UInt32) Handler207, 0x08, 0x8E);
    IntSetIsr(208, (UInt32) Handler208, 0x08, 0x8E);
    IntSetIsr(209, (UInt32) Handler209, 0x08, 0x8E);
    IntSetIsr(210, (UInt32) Handler210, 0x08, 0x8E);
    IntSetIsr(211, (UInt32) Handler211, 0x08, 0x8E);
    IntSetIsr(212, (UInt32) Handler212, 0x08, 0x8E);
    IntSetIsr(213, (UInt32) Handler213, 0x08, 0x8E);
    IntSetIsr(214, (UInt32) Handler214, 0x08, 0x8E);
    IntSetIsr(215, (UInt32) Handler215, 0x08, 0x8E);
    IntSetIsr(216, (UInt32) Handler216, 0x08, 0x8E);
    IntSetIsr(217, (UInt32) Handler217, 0x08, 0x8E);
    IntSetIsr(218, (UInt32) Handler218, 0x08, 0x8E);
    IntSetIsr(219, (UInt32) Handler219, 0x08, 0x8E);
    IntSetIsr(220, (UInt32) Handler220, 0x08, 0x8E);
    IntSetIsr(221, (UInt32) Handler221, 0x08, 0x8E);
    IntSetIsr(222, (UInt32) Handler222, 0x08, 0x8E);
    IntSetIsr(223, (UInt32) Handler223, 0x08, 0x8E);
    IntSetIsr(224, (UInt32) Handler224, 0x08, 0x8E);
    IntSetIsr(225, (UInt32) Handler225, 0x08, 0x8E);
    IntSetIsr(227, (UInt32) Handler227, 0x08, 0x8E);
    IntSetIsr(228, (UInt32) Handler228, 0x08, 0x8E);
    IntSetIsr(229, (UInt32) Handler229, 0x08, 0x8E);
    IntSetIsr(230, (UInt32) Handler230, 0x08, 0x8E);
    IntSetIsr(231, (UInt32) Handler231, 0x08, 0x8E);
    IntSetIsr(232, (UInt32) Handler232, 0x08, 0x8E);
    IntSetIsr(233, (UInt32) Handler233, 0x08, 0x8E);
    IntSetIsr(234, (UInt32) Handler234, 0x08, 0x8E);
    IntSetIsr(235, (UInt32) Handler235, 0x08, 0x8E);
    IntSetIsr(236, (UInt32) Handler236, 0x08, 0x8E);
    IntSetIsr(237, (UInt32) Handler237, 0x08, 0x8E);
    IntSetIsr(238, (UInt32) Handler238, 0x08, 0x8E);
    IntSetIsr(239, (UInt32) Handler239, 0x08, 0x8E);
    IntSetIsr(240, (UInt32) Handler240, 0x08, 0x8E);
    IntSetIsr(241, (UInt32) Handler241, 0x08, 0x8E);
    IntSetIsr(242, (UInt32) Handler242, 0x08, 0x8E);
    IntSetIsr(243, (UInt32) Handler243, 0x08, 0x8E);
    IntSetIsr(244, (UInt32) Handler244, 0x08, 0x8E);
    IntSetIsr(245, (UInt32) Handler245, 0x08, 0x8E);
    IntSetIsr(246, (UInt32) Handler246, 0x08, 0x8E);
    IntSetIsr(247, (UInt32) Handler247, 0x08, 0x8E);
    IntSetIsr(248, (UInt32) Handler248, 0x08, 0x8E);
    IntSetIsr(249, (UInt32) Handler249, 0x08, 0x8E);
    IntSetIsr(250, (UInt32) Handler250, 0x08, 0x8E);
    IntSetIsr(251, (UInt32) Handler251, 0x08, 0x8E);
    IntSetIsr(252, (UInt32) Handler252, 0x08, 0x8E);
    IntSetIsr(253, (UInt32) Handler253, 0x08, 0x8E);
    IntSetIsr(254, (UInt32) Handler254, 0x08, 0x8E);
    IntSetIsr(255, (UInt32) Handler255, 0x08, 0x8E);
    IntSetIsr(ROUTER_CALL, (UInt32) HandlerROUTER_CALL, 0x08, 0x8E);
    
    __asm__ __volatile__ ("lidt %0" : : "m"(IDTPointer));
}

Void IntSetIsr(const UByte index, UInt32 base, const UInt16 selector, const UByte flags) {
    IEntries[index].BaseLow = (base & 0xFFFF);
    IEntries[index].BaseHigh = (base >> 16) & 0xFFFF;
    IEntries[index].Selector = selector;
    IEntries[index].Zero = 0;
    IEntries[index].Flags = flags;
}
